## access-hood

Zero‑dependency, client‑side access hood for React. It provides a lightweight, visual gate that asks for a password once and stores an obfuscated flag in `localStorage` to reveal gated content on subsequent visits.

> Important: This is not real authentication. Use it only for low‑stakes gating (e.g., previews, prototypes, internal demos). Do not rely on this for protecting sensitive data.

### Install

```bash
npm install access-hood
```

### Quick start

```tsx
import React from "react";
import { AccessHood } from "access-hood";

export const Demo = () => {
  return (
    <AccessHood
      password={"demo-password"}
      passwordHint="Ask the team lead"
      metadata={{ title: "Protected Preview" }}
      theme={{
        // override any colors you want; all fields optional
        buttonBackground: "#2563eb",
        buttonBorder: "#1e3a8a",
        buttonText: "#ffffff",
        containerBorder: "#e2e8f0",
        hintText: "#475569",
        errorText: "#dc2626",
      }}
    >
      <main>
        <h1>Private content</h1>
        <p>Visible after entering the password once.</p>
      </main>
    </AccessHood>
  );
};
```

### API

- **`AccessHood`**: React component that renders a minimal password form until access is granted.
  - **props**
    - **`children: React.ReactNode`**: Content to show after access is granted.
    - **`password: string`** (required): The shared password to unlock the content.
    - **`passwordHint?: string`**: Optional hint displayed under the form.
    - **`metadata?: { title?: string; description?: string }`**: Optional metadata; `title` sets `document.title` on mount.
    - **`theme?: Partial<AccessHoodTheme>`**: Optional color theme overrides.

#### Theming

You can customize colors by passing a `theme` prop or by generating styles yourself via `getStyles` if you need full control.

```ts
import { AccessHood, getStyles, type AccessHoodTheme } from "access-hood";

const theme: Partial<AccessHoodTheme> = {
  buttonBackground: "#2563eb",
  buttonBorder: "#1e3a8a",
  buttonText: "#ffffff",
  containerBorder: "#e2e8f0",
  hintText: "#475569",
  errorText: "#dc2626",
};

// or compute styles if you want to reuse them elsewhere
const styles = getStyles(theme);
```

### How it works

- On submit, the component compares the input to `password`.
- If correct, it derives a deterministic, obfuscated storage key and value from the password and a salt, then stores the value at that key in `localStorage`.
- On mount, it checks for that derived key/value to automatically re‑grant access (no network calls).
- Uses Web Crypto (`SHA‑256`) when available with a tiny non‑crypto fallback to remain functional in restricted environments.

### Notes and limitations

- Client‑side only; gating is purely visual. Do not ship sensitive data to the client unless the user is authorized server‑side.
- SSR: The gate renders on the client; the component no‑ops on the server.
- Clearing site data (or changing `password`) will reset the gate.

### Styling

The form uses inline styles generated by `getStyles` from `src/accessHoodStyles.ts`. Override colors via the `theme` prop, or fork/wrap for deeper customization.

### TypeScript

First‑class TypeScript types are included. The package ships `types` alongside the compiled output.

### File overview

- `src/AccessHood.tsx` — Functional React component implementing the gate and UX.
- `src/accessHoodStyles.ts` — Centralized inline styles used by the component.
- `src/authStorage.ts` — Internal helpers that derive obfuscated `localStorage` key/value and read/write the auth flag.
- `src/index.ts` — Public exports.

### License

MIT
